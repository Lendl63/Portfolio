function m(t){if(t.dataset.animated)return;t.dataset.animated="true",t.querySelectorAll(".stat-number").forEach(n=>{let s=Number(n.dataset.target),r=0,u=s/80;function c(){r+=u,r<s?(n.textContent=Math.floor(r),requestAnimationFrame(c)):n.textContent=s}c()})}var g=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&e.target.classList.contains("stats-grid")&&m(e.target)})},{threshold:.5}),i=document.querySelector(".stats-grid");i&&g.observe(i);var l=!1;function d(){if(l)return;l=!0;let t=document.createElement("script");t.src="src/js/form.js",t.defer=!0,document.body.appendChild(t)}var a=document.getElementById("contact");if(a){let t=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&(d(),t.unobserve(a))})},{root:null,threshold:.1});t.observe(a)}document.querySelectorAll('.contact-btn, .btn-text[onclick*="#contact"]').forEach(t=>{t.addEventListener("click",()=>d(),{once:!0})});var o=document.getElementById("toggle-animations");if(o){let t=()=>{let e=localStorage.getItem("disableCanvas")==="true";o.setAttribute("aria-pressed",String(!e)),o.textContent=e?"Animations: Off":"Animations",window.__disableCanvas=e,document.dispatchEvent(new CustomEvent("canvas:toggle",{detail:{disabled:e}}))};o.addEventListener("click",()=>{let e=localStorage.getItem("disableCanvas")==="true";localStorage.setItem("disableCanvas",(!e).toString()),t()}),t()}
